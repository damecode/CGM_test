/*
i passi sono :
1- analizzare la home page, identificare gli oggetti relativi alla login 
2- fare la login con i dati corretti 
	2.a - verifcare il comportmento corretto per tutti gli utenti con la password corretta
	2.b - verificare che il sistema mi blocchi se username e password non sono corrette
3- verificare che siano caricati tutti e 6 i prodotti attesi  identificare gli oggetti relativi ad oggetto #1 
	3.a - replicare acquisto per ogni singolo oggetti nella pagina
	3.b - replicare acquisto per tutti gli oggetti nella pagina
4- cliccare su "Add to Cart"
5- cliccare su carrello 
6- cliccare su checkout
7- Inserire i dati nei campi 
8- cliccare su continue
9- pagina nuova cliccare su "finish"
*/

/*
----HOME PAGE----
oggetto per USERNAME è un input di tipo Text con id ='user-name'
oggetto per Password  è un input di tipo Password con id ='password'
il bottone login ha id"login-button'
-- errore "Epic sadface: Username and password do not match any user in this service" è contenuto nella class ="Error-message-container error"
*/
module.exports = {
	'il mio primo test case' (browser){
		browser
			.url('https://www.saucedemo.com/') /* apro il browser all 'indirizzo voluto*/
			.waitForElementVisible('body', 1000)
			.assert.visible('.user-name')
			.setValue('input[type=text]', 'standard_user')
			.assert.visible('.password')
			.setValue('input[type=password]', 'secret_sauce')/*inserisco nome utente e password corretti*/
			.click('button[type=submit]')
			.assert.containsText('.header_secondary_container', 'Products')
/*
----  "INVENTORY"----
1- verificare che sono stati caricatti tutti e 6 gli oggetti
oggetto identificativo è il tasto "Add to cart" che un titolo univoco correlato al prodotto 
id="add-to-cart-sauce-labs-backpack
carrello ha id "shopping_cart_container"

 controllare che il numero presente nel carrello sia coerente con quanti oggetti ho selezionato
*/
			.waitForElementVisible('inventory_list')
			.useXpath().click("[contains(text(),'add-to-cart-sauce-labs-backpack')]")
			.assert.containsText('.shopping_cart_container', '1')
			.click('shopping_cart_container_link')
/*
----  "Checkout"----

*/
			.waitForElementVisible('cart_list')
			.assert.containsText('.inventory_item_name', 'Sauce Labs Backpack')
			.assert.containsText('.cart_quantity', '1')
			.useXpath().click("//*[contains(text(),'checkout')]")

/*
----  "Checkout-your information"----

*/
			.waitForElementVisible('checkout_info_container')
			.assert.visible('.first-name')
			.setValue('form_group[id="first-name"]', 'Davide')
			.setValue('form_group[id="last-name"]', 'Cipollino')
			.setValue('form_group[id="postal-code"]', '20137')
			.click('button[type=submit]')
			
/*
----  "Checkout-Overview"----

*/
			.waitForElementVisible('checkout_info_container')
			.assert.containsText('.cart_quantity', '1')
			.assert.containsText('.inventory_item_name', 'Sauce Labs Backpack')
			.useXpath().click("//*[contains(text(),'Finish')]")
/*
----  "Checkout-Complete"----
*/
			.waitForElementVisible('body')
			.waitForElementVisible('checkout_complete_container')
			.assert.containsText('.complete-header', 'THANK YOU FOR YOUR ORDER')
	}
};