/* 
scopo di questo script è provare ad effettuare tutti i passi necessari per acquistare
l' oggetto "sauce-labs-backpack"
*/
/*
----HOME PAGE----
Inserisco Nome Utente e password corretti e clicco sul tasto per fare la login
*/
module.exports = {
	'il mio primo test case' (browser){
		browser
			.url('https://www.saucedemo.com/') /* apro il browser all 'indirizzo voluto*/
			.waitForElementVisible('body', 1000)/* attendo che si visualizzi l'elemento body*/
			.assert.visible('.user-name')/*verifico che sia visibile l'elemento USERNAME*/
			.setValue('input[type=text]', 'standard_user')/*Inserisco come  username "standard_user" */
			.assert.visible('.password')/*verifico che sia visibile l'elemento password*/
			.setValue('input[type=password]', 'secret_sauce')/*Inserisco come  password "secret_sauce" */
			.click('button[type=submit]')/*clicco sul bottone" */
			.assert.containsText('.header_secondary_container', 'Products')/*Verifico che sono nella pagina successiva controllando che ci sia il testo PRODUCTS" */
/*
---- Pagina  "INVENTORY"----
seleziono l'item sauce-labs-backpack controllo che il carrello del Checkout contenga 1 oggetto e  
*/ 
			.waitForElementVisible('inventory_list')/* attendo che si visualizzi l'elemento inventory_list che contiene tutti gli elementi che si possono comprare*/
			.useXpath().click("[contains(text(),'add-to-cart-sauce-labs-backpack')]")/*clicco sul "add cart" del primo oggetto "sauce-labs-backpack"*/
			.assert.containsText('.shopping_cart_container', '1')/*verifico che nel carrello sia presente 1 oggetto */
			.click('shopping_cart_container_link')/*clicco sul carrello*/
/*
----  Pagina"Cart"----
verifico che nella pagina ci sia 1 elemento, che ci sia il testo Sauce Labs Backpack e clicco sul tasto checkout
*/
			.waitForElementVisible('cart_list')/* attendo che si visualizzi l'elemento cart_list che contiene gli elementi che ho comprato */
			.assert.containsText('.inventory_item_name', 'Sauce Labs Backpack')/*verifico che nella pagina ci sia 1 oggetto con nome Sauce Labs Backpack */
			.assert.containsText('.cart_quantity', '1')/*verifico che nella pagina ci sia la quantità 1 */
			.useXpath().click("//*[contains(text(),'checkout')]")/*clicco sul tasto "checkout"*/
/*
---- Pagina "Checkout-your information"----
in questa pagina devo fornireil mio Nome, cognome ed il mio CAP
*/
			.waitForElementVisible('checkout_info_container')/*aspetto si carichi l'item "checkout_info_container" che contiene tutti gli elementi che mi interessano */
			.assert.visible('.first-name')/*Verifico che sia visibile l'item "first-name" */
			.setValue('form_group[id="first-name"]', 'Massimo')/*inserisco il valore Massimo */
			.assert.visible('.last-name')/*Verifico che sia visibile l'item "last-name" */
			.setValue('form_group[id="last-name"]', 'Boldi')/*inserisco il valore Boldi */
			.assert.visible('.postal-code')/*Verifico che sia visibile l'item "postal-code" */
			.setValue('form_group[id="postal-code"]', '20100')/*inserisco il valore 20100 */
			.click('button[type=submit]')/*clicco sul tasto "continue"*/
/*
----  Pagina"Checkout-Overview"----
vedo che la pagina sia caricata e che siano presenti la quantità 1 e il nome dell' oggetto che sto compranto 
*/
			.waitForElementVisible('checkout_info_container')/*Aspetto che si carichi l'elemento con tutti gli item che mi interessano*/
			.assert.containsText('.cart_quantity', '1')/*verifico che nella pagina ci sia la quantità 1 */
			.assert.containsText('.inventory_item_name', 'Sauce Labs Backpack')/*verifico che nella pagina ci sia il testo Sauce Labs Backpack  */
			.useXpath().click("//*[contains(text(),'Finish')]")/*clicco sul tasto "Finish"*/
/*
----  Pagina "Checkout-Complete"----
Verifico che sono nella pagina finale e clicc su "BACK Home"
*/
			.waitForElementVisible('body')/*Aspetto che si carichi il body*/
			.waitForElementVisible('checkout_complete_container')/*Aspetto che si carichi il checkout_complete_container*/
			.assert.containsText('.complete-header', 'THANK YOU FOR YOUR ORDER')/*controllo che sia presente il testo 'THANK YOU FOR YOUR ORDER' */
			.useXpath().click("//*[contains(text(),'Back Home')]")/*clicco sul tasto "back home"*/
/*
----  Pagina "Home page"----
Controllo che sono tornato in Home Page
*/
			.waitForElementVisible('body', 1000)/* attendo che si visualizzi l'elemento body*/
			.assert.visible('.user-name')/*verifico che sia visibile l'elemento USERNAME*/

	}
};